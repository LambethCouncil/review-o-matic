$('.mosaic_container .results_container').empty();

<% @mappings.each do |mapping| %>
  $('.mosaic_container .results_container').append('<span><%= mapping.score %></span>');
<% end %>

$(function (){
    var colors = new Hex(0xFF0000).range(new Hex(0x00FF00), 101, true);
    $(".mosaic_container .results_container > span").each(function(index){
        $(this).css({
          'background-color' : '#'+colors[parseInt($(this).text())].toString()
        });
        $(this).html('');
    });
});
